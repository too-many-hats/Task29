# Accuracy

This document is intended to record everywhere that the emulator varies from the original, or where I had to guesstimate behaviour.

1. Charactron cost: I have no information regarding the monthly cost of a Charactron. The purchase price however was $325,000 (and presumably integration). To calculate the monthly cost, I've taken the High-speed printer and calculated the purchase/monthly price ratio. Then divided the purchase price of the Charactron by the ratio. This comes out to $5,797 including maintenance per month. If we compare this to an IBM 740 (a competitor) at $2,850 a month including maintenance this estimate might be reasonable. The 740 is significantly cheaper, but is far simpler and less capable than the Charactron.
2. Required area, weight and personnel for an installation vary greatly between installations, numbers selected are an approximate average and should be used as a close-enough guide.
1. The EMERGENCY OFF button is not emulated. It doesn't have any functionality that is different to the FORCE STOP button as far as a software emulator is concerned.
1. Since there's only black and white images of the console, the colours for the lights and buttons are basically guesses. Though there is some grainy colour footage of a small part of the console to give a little guidance. It is clear that different colours were used for different lights in the lower panels.
1. Buttons on the two side wings of the console are not emulated. They are only useful to maintenance engineers determining electrical faults which does not apply to an emulator.
1. This emulator emulates a machine with two core memory blanks (8,192 words). The reference manual says that three memory banks are possible (12,384 words) but I can find no evidence that any machine with three memory banks was built. I do know from the BRL report and reference manual that machines with two banks were built.
1. There isn't any specific information on the state of the machine after initial power on. This emulator emulates "power on" state the same as a MASTER RESET. That is, clear all flip-flops except PAK, MPD and stop the clock. This seems plausible to me for a power on state.
1. When a MASTER CLEAR occurs it isn't clear which, if any drum or tape indicators should be cleared as these are sort of separate devices. For now all indicators are cleared.
1. There is a difference between the programmer's manual and the maint manual in how the switches in the test group affect the NORMAL/TEST/ABNORMAL modes. The programmers manual (paragraph 3-9) states that ABNORMAL CONDITION is only activated when "any of the disconnect switches in the Test Switch Group or the MT Disconnect Switch Group are positioned in their abnormal setting". However the Test Switch Group has other non-disconnect switches. The maint manual (page 50) states that *any* switch in the Test Switch Group set to abnormal causes ABNORMAL CONDITION to be enabled. The maint manual's description makes a lot more sense to me as all of these switches are likely to break the running program if enabled, if any of them are on, the hardware is not in a normal state. The emulator follows the maint manual's description of ABNORMAL CONDITION entry.
1. There are key switches on the console to by-pass physical environment faults. The emulator does not emulate the physical environment of the machine, so these switches are not emulated.
1. There is a small gap between the highest possible core memory address and the lowest possible Q address. I can find no information on what should happen if these non-existent addresses are referenced in the reference manuals. However the Timing Sequences manual clearly states that reads or writes to "Unassigned Address" always result in a SCC Fault (pages 61-63). So the emulator SCC faults when these unassigned address are referenced.
1. The core memory reference sequences are not emulated correctly, MCP-3 is combined with MCP-2. This is because the core memory clock is after than the CPU clock. There's five core memory cycles that occur in the space of four CPU cycles. This combination has been done because the complexity of tracking fractional clock cycles is likely too high. This is a significant reduction in accuracy that I was trying to avoid. Core memory is the only device which has this behaviour. This will be something I review in the future.
1. When stepping one clock cycle at a time, what happens with the drum and core memory? In both cases the PDC has stopped the CPU clock and is waiting for the subcommand to signal complete. The same question could be asked of the External Read instructions. Page 6 of timing manual states that MD and MC operate under their own clocks. Without further information this emulator briefly switches to automatic and runs these operations to completion - as in single stepping by clock applies only to the CPU clock, which seems like a reasonable behaviour. This also means a FORCE STOP doesn't take affect until after a main pulse that uses a non-cpu clock.
1. For the one cycle lockout after a core memory reference (WAIT INITIATE FF, timing manual page 70) it is unclear if this lockout is per-core memory bank or for any core memory reference. The emulator emulates each core bank separately, and so each have their own WAIT INITIATE FF and so their own separate lockouts. So you can speed up your programs by alternating in which bank the program and data is in. I swear this was a known tactic I've read about but can't remember the source.
1. There is little to elaborate on what happens when an SCC fault occurs while reading an instruction beyond reference manual paragraph 3-43. The emulator matches what is described in the manual. However exactly which flip-flops are changed in order to get described the behaviour is unclear and looks different to a normal SCC fault. The emulator currently makes a best effort to look reasonable.